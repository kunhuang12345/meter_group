# 总线/IO

## 

## 常见的I/ O设备

鼠标和键盘，存储设备，如光盘和移动硬盘，以及网络通讯设备，如猫和路由器，打印机，显示屏

## IO信息交换方式

I/O信息交换方式有几种，包括程序直接**控制**方式，**中断**驱动方式，**DMA**方式和**通道控制**方式

## IO接口的概念

I/O接口是主机和外设之间的交接界面，通过接口可以实现主机和外设之间的信息交换。它向CPU提供I/O设备的状态信息和进行命令译码

## 总线性能评价

总线时钟频率，指总线的工作频率，以MHz表示，它是影响总线传输速率的重要因素之一；总线宽度，又称总线位宽，是总线可同时传输的数据位数，用bit（位）表示，如8位、16位、32位等

## 总线时序

总线时序，即 CPU 通过总线进行操作（读/写、释放总线、中断响应）时，总线上各信号之间在时间顺序上的配合关系，它是同CPU的操作功能有关的

## 总线仲裁

总线仲裁是系统中多个设备或模块可能同时申请对总线的使用权，为避免产生总线冲突，需由总线仲裁机构合理地控制和管理系统中需要占用总线的申请者，在多个申请者同时提出总线请求时，以一定的优先算法仲裁哪个应获得对总线的使用权

**总线仲裁方式**：链式查询方式、计数器定时查询方式和独立请求方式
**响应时间最快**：独立请求方式
**对故障最敏感**：链式查询

## 总线分类

**数据总线，地址总线，数据总线**

## 总线作用

总线是计算机各种功能部件之间传送信息的公共通信干线。数据总线、地址总线和控制总线，分别用来传输数据、数据地址和控制信号

# 存储

## 半导体存储器分类

半导体存储器分为双极型和MOS（金属氧化物半导体）型。

进一步看，双极型又分为TTL(晶体管-晶体管逻辑)

MOS型又分为N-MOS、P-MOS和CMOS这三种电路结构类型，以及静态MOS型和动态MOS型这两种工作模式

## 半导体存储器扩展

存储器容量扩展的主要方法有：位扩展、字扩展和字位扩展

- 位扩展：只加大字长，而存储器的字数与存储器芯片字数一致，对所有片子使用共同片选信号。例如，2片1K X 4位的芯片，可以组成1K X 8位的存储器（4位→8位
- 字扩展：仅在字向扩充，而位数不变。需要由片选信号来区分各片地址。例如，2片1K X 8位的芯片，可以组成2K X 8位的存储器（1K→2K）
- 字位扩展：一个存储器的容量假定为M×N位，若使用l×k位的芯片(l＜M，k＜N)，需要在字向和位向同时进行扩展。此时共需要(M/l)×(N/k)个存储器芯片。例如，用1K X 4位的芯片组成4K X 8位的存储器（1K→4K,4位→8位）

## 各种半导体存储器的常见应用

**静态随机存取存储器（SRAM）**：SRAM速度快，计算机中的高速缓冲存储器大多用SRAM。
**动态随机存取存储器（DRAM）**：目前计算机内的主存储器都是DRAM，它的集成度高、功耗很低，缺点是需要外加刷新电路，工作速度比SRAM慢。
**只读存储器（ROM）**：用户在使用时只能读出其中的信息，不能修改和写入信息，掉电不会消失。它可以进一步分为掩膜ROM、可编程ROM（PROM）、光擦除PROM（EPROM）、电擦除PROM（EEPROM）和Flash Memory等。

## 三级存储体系，最小替换单位，映射方式，替换策略

1. 三级存储体系是指计算机系统中常用的三级存储结构，包括**高速缓冲存储器**（Cache）、**主存储器**（主存）和**辅助存储器**（外存储器）。高速缓冲存储器用来改善CPU与**内存**之间**速度**匹配问题；辅助存储器用于扩大存储空间。
2. 最小替换单位是指在计算机系统中，数据在**存储**、**传输**和**处理过程**中的最小单位。例如，在内存中，最小替换单位通常是一个**字节**；在磁盘中，最小替换单位通常是一个**扇区**。
3. 映射方式是指计算机系统中，数据在不同层次之间进行转换的方式。例如，在Cache和主存之间的映射方式有三种：**直接映射**、**全相联映射**和**组相联映射**。直接映射是将主存中的每个数据块映射到Cache中的一个固定位置，全相联映射是将主存中的每个数据块都可以映射到Cache中的任意位置，组相联映射则是将主存中的每个数据块允许映射到固定组内的任意项。
4. 替换策略是指计算机系统中，当缓存空间不足时，如何选择要替换出去的数据块以腾出空间。常见的替换策略有随机法、**先进先出法**(FIFO)、**最近最少使用**(LRU)法等。

## 存储器地址线，数据线关系（外特性）

存储器地址线和数据线是存储器的两个重要组成部分。地址线用于**传输地址信息**，确定存储器中的一个存储单元。数据线用于**传输数据**，实现数据的**读写操作**.

存储器地址线和数据线与存储器容量有关。地址线一次确定一个存储单元，地址线上值可能取的所有组合确定了存储单元的个数。所以，**存储单元的个数=2^地址线的条数**。**数据线的位数与芯片可读出或写入的数据位数有关**。

## 半导体存储器编址方式

半导体存储器编址方式通常指存储器中数据的组织和访问方式。常见的编址方式有**直接编址**、**顺序编址**、**随机编址**和**索引编址**等。

- **直接编址**：直接编址是指操作数的有效地址直接给出在指令中，也就是说，指令中给出的地址就是操作数所在的存储单元的地址。
- **顺序编址**：顺序编址是指按照存储单元的物理顺序依次访问存储器中的数据，例如磁带存储器就采用了顺序编址方式。
- **随机编址**：随机编址是指可以直接访问存储器中任意一个存储单元，而不需要按照物理顺序依次访问，例如主存储器就采用了随机编址方式。
- **索引编址**：索引编址是指在指令中给出一个基地址，然后再加上一个变量偏移量，从而得到操作数的有效地址。

# 中央处理器

## RISC，CISC的特点，以及常见机型

**CISC**（复杂指令集计算机）：指令系统庞大，指令功能复杂，指令格式多变，寻址方式很多；绝大多数指令需要多个时钟周期才能完成；各种指令几乎都可以访问存储器；主要采用微程序控制方式；设置于少量专用寄存器；难以用优化编译技术生成搞笑的目标代码。

**CISC常用机型**：Intel公司的x86系列、AMD和VIA等公司的x86兼容系列及后来的x86-64（或AMD 64）架构系列处理器，基本上属于CISC类型。

**RISC**（精简指令集计算机）：是一种执行较少类型计算机指令的微处理器。指令格式更统一，指令种类更少，寻址方式更简单，使得CPU并行处理能力更高，处理效率高。

**RISC常用机型**：IBM公司的Power PC处理器、SUN公司的SPARC处理器、HP公司的PA-RISC处理器、MIPS公司的MIPS处理器和Compaq公司的Alpha处理器等。

## 指令系统

1. **给定指令操作码长度能够估算指令数，或根据指令数合理估计操作码长度（不限具体机型）**

   指令操作码长度决定了CPU能够识别的不同指令的数量。例如，如果操作码长度为n位，那么CPU能够识别的不同指令的数量就是2^n。

2. **理解MIPS32指令格式**

   

3. **根据给定指令系统编写简单小程序，包含注记符语言和机器语言**

## 计算机中“位数”的概念

计算机的“位数”通常指的是计算机的字长，也就是计算机一次能够处理的数据位数。字长决定了计算机的运算精度和数据处理能力。例如，一个32位计算机一次能够处理32位数据，而一个64位计算机一次能够处理64位数据。字长越长，计算机的运算精度和数据处理能力就越强。

此外，“位数”也可以指CPU的寄存器大小，或者操作系统和应用程序能够支持的最大内存地址空间。例如，32位操作系统最多能够支持4GB的内存地址空间，而64位操作系统能够支持更大的内存地址空间。

## 计算机设计中常见缩写：ALU，PC，PSW，IR，MAR，MDR等

- ALU（Arithmetic Logic Unit）：算术逻辑单元，用于执行算术和逻辑运算。
- PC（Program Counter）：程序计数器，用于存储下一条指令的地址。
- PSW（Program Status Word）：程序状态字寄存器，用于存储程序执行状态信息。
- IR（Instruction Register）：指令寄存器，用于存储当前正在执行的指令。
- MAR（Memory Address Register）：内存地址寄存器，用于存储要访问的内存地址。
- MDR（Memory Data Register）：内存数据寄存器，用于存储从内存读取或写入内存的数据。

## MIPS32系列计算机的存储器编址，指令长度，PC寻址，取指操作等



## CPU的设计过程



## 运算器设计，运算器核心电路等基本常识



## 控制器分类

**1.微控制器**。MAC的基本结构包括程序存储器、累加器、缓冲器、堆栈和堆栈指针、输入/输出（I/O端口）、定时器、计数器和串行输出。（串行I/O）、晶体驱动器（LCD驱动器）、荧光管驱动器（VFTDriver）、数字接口的模数转换（ADC）和模数转换接口（DAC）。

**2.电动汽车控制器**。超静音设计技术、恒流控制技术、电机模式自动识别系统、随动abs系统、电机锁定系统、自检功能、防充电功能、闭锁保护功能、动静态缺相保护功能、动力管动态保护功能、防飞功能、1+1辅助功能、巡航功能、，模式切换功能、防盗报警功能、倒车功能、遥控功能、高速控制功能、电机相位。

**3.组合逻辑控制器。**组合逻辑控制器的基本结构由四个部分组成：指令寄存器、操作码转换器、时序电路和指令计数器。

**4.CPU控制器。**指令寄存器IR是CPU控制器的基本结构。程序计数器PC由操作控制器三部分组成。

**5.访问控制器。**RS485网络门控制器是门禁控制器的主要分类，包括TCP/IP网络门控制器、非联网门控制器、单门控制器、双门控制器、四门控制器、多门控制器、单向控制器和双向控制器。

## 单周期cpu，硬布线系统，要求能够掌握给定MIPS32数据通路的前提下各个信号的工作含义并能够分析不同指令的信号需求，了解控制器设计具体过程





## 多周期cpu，微程序控制系统，微程序控制器的工作原理，CS/CM的本质，MIPS32的工作周期，各周期作用。了解控制器设计具体过程